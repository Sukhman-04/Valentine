<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine ðŸ’˜</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif;}

body{
  height:100vh;
  overflow:hidden;
  background:linear-gradient(270deg,#ff9ac6,#ff2f7f,#ff6fa5);
  background-size:600% 600%;
  animation:bg 12s ease infinite;
  display:flex;
  justify-content:center;
  align-items:center;
  color:white;
}

@keyframes bg{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* glass card */

.card{
  backdrop-filter:blur(20px);
  background:rgba(255,255,255,0.15);
  border-radius:30px;
  padding:50px;
  text-align:center;
  box-shadow:0 20px 60px rgba(0,0,0,0.3);
  max-width:520px;
  z-index:2;
}

h1{
  font-size:36px;
  margin-bottom:20px;
  transition:.4s;
}

.buttons{margin-top:30px;}

button{
  padding:15px 30px;
  font-size:18px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  font-weight:bold;
  transition:.3s;
  margin:10px;
}

#yes{background:white;color:#ff2f7f;}
#no{background:#ff2f7f;color:white;}

button:hover{transform:scale(1.1);}

/* celebration overlay */

.celebrate{
  position:fixed;
  inset:0;
  background:#ff2f7f;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
  animation:fade 1s forwards;
  opacity:0;
  z-index:5;
}

@keyframes fade{to{opacity:1;}}

.typed{
  font-size:28px;
  margin-top:20px;
  width:80%;
  max-width:600px;
}

/* canvas layers */

canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
}

#hearts{z-index:1;}
#cursor{z-index:4;}
</style>
</head>

<body>

<canvas id="hearts"></canvas>
<canvas id="cursor"></canvas>

<div class="card">
  <h1 id="text">Will you be my Valentine? ðŸ’˜</h1>

  <div class="buttons">
    <button id="yes">Yes ðŸ’—</button>
    <button id="no">No ðŸ˜¢</button>
  </div>

  <button id="musicBtn" style="margin-top:20px;background:white;color:#ff2f7f;">
    ðŸŽµ Music
  </button>
</div>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_2b6bd6c1f6.mp3?filename=romantic-ambient-110706.mp3">
</audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
/* growing yes */

let scale=1;
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const text=document.getElementById("text");

const msgs=["Are you sure? ðŸ¥º","Think againâ€¦ ðŸ’”","Iâ€™ll be sadâ€¦ ðŸ˜¢","Please? ðŸ’•","Last chance ðŸ˜³"];
let step=0;

no.onclick=()=>{
  scale+=0.25;
  yes.style.transform=`scale(${scale})`;
  if(step<msgs.length){text.innerText=msgs[step++];}
};

/* typed celebration */

yes.onclick=()=>{
  confetti({particleCount:200,spread:120});
  const screen=document.createElement("div");
  screen.className="celebrate";
  screen.innerHTML=`<div style="font-size:50px;">YAAAAAY ðŸ’˜</div><div class="typed" id="typed"></div>`;
  document.body.appendChild(screen);

  const message="You just made me the happiest person alive ðŸ’— Thank you for being my Valentine.";
  let i=0;
  function type(){
    if(i<message.length){
      document.getElementById("typed").innerHTML+=message[i++];
      setTimeout(type,40);
    }
  }
  type();
};

/* music toggle */

const music=document.getElementById("music");
document.getElementById("musicBtn").onclick=()=>{
  if(music.paused){music.play();}
  else{music.pause();}
};

/* floating hearts */

const hc=document.getElementById("hearts");
const hctx=hc.getContext("2d");
hc.width=innerWidth;hc.height=innerHeight;

let hearts=[];
for(let i=0;i<70;i++){
  hearts.push({x:Math.random()*hc.width,y:Math.random()*hc.height,s:Math.random()*6+4,v:Math.random()+0.5});
}

function drawHeart(x,y,s){
  hctx.fillStyle="rgba(255,255,255,0.5)";
  hctx.beginPath();
  hctx.moveTo(x,y);
  hctx.bezierCurveTo(x-s,y-s,x-2*s,y+s,x,y+2*s);
  hctx.bezierCurveTo(x+2*s,y+s,x+s,y-s,x,y);
  hctx.fill();
}

function animHearts(){
  hctx.clearRect(0,0,hc.width,hc.height);
  hearts.forEach(h=>{
    h.y-=h.v;
    if(h.y<0)h.y=hc.height;
    drawHeart(h.x,h.y,h.s);
  });
  requestAnimationFrame(animHearts);
}
animHearts();

/* cursor glow */

const cc=document.getElementById("cursor");
const cctx=cc.getContext("2d");
cc.width=innerWidth;cc.height=innerHeight;

let trail=[];
document.onmousemove=e=>{
  trail.push({x:e.clientX,y:e.clientY});
  if(trail.length>20)trail.shift();
};

function animCursor(){
  cctx.clearRect(0,0,cc.width,cc.height);
  trail.forEach((p,i)=>{
    cctx.beginPath();
    cctx.arc(p.x,p.y,8-i/2,0,Math.PI*2);
    cctx.fillStyle=`rgba(255,255,255,${1-i/20})`;
    cctx.fill();
  });
  requestAnimationFrame(animCursor);
}
animCursor();

onresize=()=>{
  hc.width=cc.width=innerWidth;
  hc.height=cc.height=innerHeight;
};
</script>

</body>
</html>
