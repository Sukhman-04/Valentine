<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Valentine ðŸ’˜</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}

body{
  height:100vh;
  overflow:hidden;
  background:linear-gradient(135deg,#ff9acb,#ff5fa2,#ff2f7f);
  display:flex;
  justify-content:center;
  align-items:center;
  color:white;
}

/* neon pink glow */

.glow{
  text-shadow:
  0 0 10px #fff,
  0 0 20px #ff2f7f,
  0 0 40px #ff2f7f;
}

.screen{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  transition:1s;
}

.hidden{opacity:0;pointer-events:none;}

h1{font-size:44px;margin-bottom:20px;}

button{
  padding:16px 34px;
  font-size:18px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  font-weight:bold;
  margin:10px;
  background:white;
  color:#ff2f7f;
  box-shadow:0 0 20px #fff;
  transition:.3s;
}

button:hover{transform:scale(1.1);}

canvas{position:fixed;inset:0;pointer-events:none}
</style>
</head>

<body>

<div class="screen" id="intro">
  <h1 class="glow">Tap to open message ðŸ’Œ</h1>
  <button onclick="openIntro()">Open</button>
</div>

<div class="screen hidden" id="question">
  <h1 id="qText" class="glow">Will you be my Valentine? ðŸ’˜</h1>
  <button id="yes">Yes ðŸ’—</button>
  <button id="no">No ðŸ˜¢</button>
</div>

<div class="screen hidden" id="celebrate">
  <h1 class="glow">She said YES ðŸ’ž</h1>
  <div id="typed" style="font-size:26px;margin-top:20px"></div>
</div>

<canvas id="petals"></canvas>

<!-- stable royalty-free music -->
<audio id="music" loop>
<source src="https://cdn.pixabay.com/audio/2022/10/25/audio_946d9c4b3c.mp3">
</audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
const intro=document.getElementById("intro");
const question=document.getElementById("question");
const celebrate=document.getElementById("celebrate");
const music=document.getElementById("music");

/* guaranteed music unlock */
function openIntro(){
  music.volume=0.6;
  music.play().catch(()=>{});
  intro.classList.add("hidden");
  question.classList.remove("hidden");
}

/* growing yes */

let scale=1;
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const qText=document.getElementById("qText");

const msgs=["Are you sure? ðŸ¥º","Think again ðŸ’”","I'll cry ðŸ˜¢","Please? ðŸ’•","Last chance ðŸ˜³"];
let step=0;

no.onclick=()=>{
  scale+=0.35;
  yes.style.transform=`scale(${scale})`;
  if(step<msgs.length) qText.innerText=msgs[step++];
};

yes.onclick=()=>{
  question.classList.add("hidden");
  celebrate.classList.remove("hidden");

  confetti({particleCount:300,spread:150});

  const message="You just unlocked unlimited love mode ðŸ’—";
  let i=0;
  function type(){
    if(i<message.length){
      document.getElementById("typed").innerHTML+=message[i++];
      setTimeout(type,40);
    }
  }
  type();
};

/* rose petals */

const canvas=document.getElementById("petals");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

let petals=[];
for(let i=0;i<80;i++){
  petals.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    s:Math.random()*10+6,
    v:Math.random()*1+0.5,
    drift:Math.random()*2-1
  });
}

function petal(p){
  ctx.fillStyle="rgba(255,20,120,0.9)";
  ctx.beginPath();
  ctx.ellipse(p.x,p.y,p.s,p.s*0.6,Math.PI/4,0,Math.PI*2);
  ctx.fill();
}

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  petals.forEach(p=>{
    p.y+=p.v;
    p.x+=p.drift;
    if(p.y>canvas.height)p.y=0;
    if(p.x>canvas.width)p.x=0;
    petal(p);
  });
  requestAnimationFrame(animate);
}
animate();

onresize=()=>{
  canvas.width=innerWidth;
  canvas.height=innerHeight;
};
</script>

</body>
</html>
