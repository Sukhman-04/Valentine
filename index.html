<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Valentine Experience ðŸ’˜</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}

body{
  height:100vh;
  overflow:hidden;
  background:linear-gradient(270deg,#ff9acb,#ff5fa2,#ff2f7f,#ff9acb);
  background-size:600% 600%;
  animation:bg 12s ease infinite;
  display:flex;
  justify-content:center;
  align-items:center;
  color:white;
}

@keyframes bg{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* glass card */

.card{
  backdrop-filter:blur(20px);
  background:rgba(255,255,255,0.12);
  border-radius:24px;
  padding:40px;
  text-align:center;
  box-shadow:0 0 40px rgba(255,0,120,0.4);
  transition:1s;
}

/* neon glow text */

.glow{
  text-shadow:
  0 0 10px #fff,
  0 0 20px #ff2f7f,
  0 0 40px #ff2f7f;
}

.screen{
  position:absolute;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  transition:1s;
}

.hidden{opacity:0;pointer-events:none;transform:scale(.95);}

h1{font-size:42px;margin-bottom:20px;}

button{
  padding:16px 34px;
  font-size:18px;
  border:none;
  border-radius:14px;
  cursor:pointer;
  font-weight:bold;
  margin:10px;
  background:white;
  color:#ff2f7f;
  box-shadow:0 0 20px white;
  transition:.3s;
}

button:hover{transform:scale(1.1)}

canvas{position:fixed;inset:0;pointer-events:none;z-index:-1}
</style>
</head>

<body>

<!-- intro -->
<div class="screen" id="intro">
  <div class="card">
    <h1 class="glow">Tap to open ðŸ’Œ</h1>
    <button onclick="openIntro()">Open</button>
  </div>
</div>

<!-- question -->
<div class="screen hidden" id="question">
  <div class="card">
    <h1 id="qText" class="glow">Will you be my Valentine? ðŸ’˜</h1>
    <button id="yes">Yes ðŸ’—</button>
    <button id="no">No ðŸ˜¢</button>
  </div>
</div>

<!-- celebration -->
<div class="screen hidden" id="celebrate">
  <div class="card">
    <h1 class="glow">She said YES ðŸ’ž</h1>
    <div id="typed" style="font-size:24px;margin-top:20px"></div>
  </div>
</div>

<canvas id="petals"></canvas>

<audio id="music" loop>
<source src="https://cdn.pixabay.com/audio/2022/10/25/audio_946d9c4b3c.mp3">
</audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
const intro=document.getElementById("intro");
const question=document.getElementById("question");
const celebrate=document.getElementById("celebrate");
const music=document.getElementById("music");

/* intro */

function openIntro(){
  music.volume=0.6;
  music.play().catch(()=>{});
  intro.classList.add("hidden");
  question.classList.remove("hidden");
}

/* growing yes */

let scale=1;
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const qText=document.getElementById("qText");

const msgs=[
"Are you sure? ðŸ¥º",
"I'll be sad ðŸ’”",
"Please? ðŸ’•",
"Last chance ðŸ˜³",
"My heart depends on this ðŸ’—"
];

let step=0;

no.onclick=()=>{
  scale+=0.35;
  yes.style.transform=`scale(${scale})`;
  if(step<msgs.length) qText.innerText=msgs[step++];
};

yes.onclick=()=>{
  question.classList.add("hidden");
  celebrate.classList.remove("hidden");

  confetti({particleCount:400,spread:180});

  const msg="You just unlocked infinite love mode ðŸ’˜âœ¨";
  let i=0;
  function type(){
    if(i<msg.length){
      document.getElementById("typed").innerHTML+=msg[i++];
      setTimeout(type,40);
    }
  }
  type();
};

/* rose petals engine */

const canvas=document.getElementById("petals");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
resize();
onresize=resize;

let petals=[];
for(let i=0;i<100;i++){
  petals.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    r:Math.random()*8+4,
    v:Math.random()*1+0.3,
    d:Math.random()*2-1
  });
}

function drawPetal(p){
  ctx.fillStyle="rgba(255,20,120,0.9)";
  ctx.beginPath();
  ctx.ellipse(p.x,p.y,p.r,p.r*0.6,Math.PI/4,0,Math.PI*2);
  ctx.fill();
}

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  petals.forEach(p=>{
    p.y+=p.v;
    p.x+=p.d;
    if(p.y>canvas.height)p.y=0;
    if(p.x>canvas.width)p.x=0;
    drawPetal(p);
  });
  requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>
